(iCodeforcesProblem
CodeforcesProblem
p0
(dp1
S'desription'
p2
VA. Lorenzo Von Matterhorn\u000atime limit per test1 second\u000amemory limit per test256 megabytes\u000ainputstandard input\u000aoutputstandard output\u000aBarney lives in NYC. NYC has infinite number of intersections numbered with positive integers starting from 1. There exists a bidirectional road between intersections i and 2i and another road between i and 2i\u2009+\u20091 for every positive integer i. You can clearly see that there exists a unique shortest path between any two intersections.\u000aInitially anyone can pass any road for free. But since SlapsGiving is ahead of us, there will q consecutive events happen soon. There are two types of events:\u000a1. Government makes a new rule. A rule can be denoted by integers v, u and w. As the result of this action, the passing fee of all roads on the shortest path from u to v increases by w dollars.\u000a2. Barney starts moving from some intersection v and goes to intersection u where there's a girl he wants to cuddle (using his fake name Lorenzo Von Matterhorn). He always uses the shortest path (visiting minimum number of intersections or roads) between two intersections.\u000aGovernment needs your calculations. For each time Barney goes to cuddle a girl, you need to tell the government how much money he should pay (sum of passing fee of all roads he passes).\u000aInput\u000aThe first line of input contains a single integer q (1\u2009\u2264\u2009q\u2009\u2264\u20091\u2009000).\u000aThe next q lines contain the information about the events in chronological order. Each event is described in form 1 v u w if it's an event when government makes a new rule about increasing the passing fee of all roads on the shortest path from u to v by w dollars, or in form 2 v u if it's an event when Barnie goes to cuddle from the intersection v to the intersection u.\u000a1\u2009\u2264\u2009v,\u2009u\u2009\u2264\u20091018,\u2009v\u2009\u2260\u2009u,\u20091\u2009\u2264\u2009w\u2009\u2264\u2009109 states for every description line.\u000aOutput\u000aFor each event of second type print the sum of passing fee of all roads Barney passes in this event, in one line. Print the answers in chronological order of corresponding events.\u000aExample\u000ainput\u000a7\u000a1 3 4 30\u000a1 4 1 2\u000a1 3 6 8\u000a2 4 3\u000a1 6 1 40\u000a2 3 7\u000a2 2 4\u000aoutput\u000a94\u000a0\u000a32\u000aNote\u000aIn the example testcase:\u000aHere are the intersections used:\u000aIntersections on the path are 3, 1, 2 and 4.\u000aIntersections on the path are 4, 2 and 1.\u000aIntersections on the path are only 3 and 6.\u000aIntersections on the path are 4, 2, 1 and 3. Passing fee of roads on the path are 32, 32 and 30 in order. So answer equals to 32\u2009+\u200932\u2009+\u200930\u2009=\u200994.\u000aIntersections on the path are 6, 3 and 1.\u000aIntersections on the path are 3 and 7. Passing fee of the road between them is 0.\u000aIntersections on the path are 2 and 4. Passing fee of the road between them is 32 (increased by 30 in the first event and by 2 in the second).
p3
sS'problemStatement'
p4
VA. Lorenzo Von Matterhorn\u000atime limit per test1 second\u000amemory limit per test256 megabytes\u000ainputstandard input\u000aoutputstandard output\u000aBarney lives in NYC. NYC has infinite number of intersections numbered with positive integers starting from 1. There exists a bidirectional road between intersections i and 2i and another road between i and 2i\u2009+\u20091 for every positive integer i. You can clearly see that there exists a unique shortest path between any two intersections.\u000aInitially anyone can pass any road for free. But since SlapsGiving is ahead of us, there will q consecutive events happen soon. There are two types of events:\u000a1. Government makes a new rule. A rule can be denoted by integers v, u and w. As the result of this action, the passing fee of all roads on the shortest path from u to v increases by w dollars.\u000a2. Barney starts moving from some intersection v and goes to intersection u where there's a girl he wants to cuddle (using his fake name Lorenzo Von Matterhorn). He always uses the shortest path (visiting minimum number of intersections or roads) between two intersections.\u000aGovernment needs your calculations. For each time Barney goes to cuddle a girl, you need to tell the government how much money he should pay (sum of passing fee of all roads he passes).\u000aInput\u000aThe first line of input contains a single integer q (1\u2009\u2264\u2009q\u2009\u2264\u20091\u2009000).\u000aThe next q lines contain the information about the events in chronological order. Each event is described in form 1 v u w if it's an event when government makes a new rule about increasing the passing fee of all roads on the shortest path from u to v by w dollars, or in form 2 v u if it's an event when Barnie goes to cuddle from the intersection v to the intersection u.\u000a1\u2009\u2264\u2009v,\u2009u\u2009\u2264\u20091018,\u2009v\u2009\u2260\u2009u,\u20091\u2009\u2264\u2009w\u2009\u2264\u2009109 states for every description line.\u000aOutput\u000aFor each event of second type print the sum of passing fee of all roads Barney passes in this event, in one line. Print the answers in chronological order of corresponding events.\u000aExample\u000ainput\u000a7\u000a1 3 4 30\u000a1 4 1 2\u000a1 3 6 8\u000a2 4 3\u000a1 6 1 40\u000a2 3 7\u000a2 2 4\u000aoutput\u000a94\u000a0\u000a32\u000aNote\u000aIn the example testcase:\u000aHere are the intersections used:\u000aIntersections on the path are 3, 1, 2 and 4.\u000aIntersections on the path are 4, 2 and 1.\u000aIntersections on the path are only 3 and 6.\u000aIntersections on the path are 4, 2, 1 and 3. Passing fee of roads on the path are 32, 32 and 30 in order. So answer equals to 32\u2009+\u200932\u2009+\u200930\u2009=\u200994.\u000aIntersections on the path are 6, 3 and 1.\u000aIntersections on the path are 3 and 7. Passing fee of the road between them is 0.\u000aIntersections on the path are 2 and 4. Passing fee of the road between them is 32 (increased by 30 in the first event and by 2 in the second).
p5
sS'name'
p6
VA. Lorenzo Von Matterhorn
p7
sS'tags'
p8
Vdata structures implementation trees 
p9
sS'url'
p10
Vhttp://codeforces.com/problemset/problem/696/A
p11
sS'memorylimit'
p12
V256 megabytes
p13
sS'timelimit'
p14
V1 second
p15
sS'output'
p16
(lp17
VOutput
p18
aVFor each event of second type print the sum of passing fee of all roads Barney passes in this event, in one line. Print the answers in chronological order of corresponding events.
p19
asS'statement'
p20
(lp21
VA. Lorenzo Von Matterhorn
p22
aVtime limit per test1 second
p23
aVmemory limit per test256 megabytes
p24
aVinputstandard input
p25
aVoutputstandard output
p26
aVBarney lives in NYC. NYC has infinite number of intersections numbered with positive integers starting from 1. There exists a bidirectional road between intersections i and 2i and another road between i and 2i\u2009+\u20091 for every positive integer i. You can clearly see that there exists a unique shortest path between any two intersections.
p27
aVInitially anyone can pass any road for free. But since SlapsGiving is ahead of us, there will q consecutive events happen soon. There are two types of events:
p28
aV1. Government makes a new rule. A rule can be denoted by integers v, u and w. As the result of this action, the passing fee of all roads on the shortest path from u to v increases by w dollars.
p29
aV2. Barney starts moving from some intersection v and goes to intersection u where there's a girl he wants to cuddle (using his fake name Lorenzo Von Matterhorn). He always uses the shortest path (visiting minimum number of intersections or roads) between two intersections.
p30
aVGovernment needs your calculations. For each time Barney goes to cuddle a girl, you need to tell the government how much money he should pay (sum of passing fee of all roads he passes).
p31
asS'problemId'
p32
V696/A
p33
sS'input'
p34
(lp35
VInput
p36
aVThe first line of input contains a single integer q (1\u2009\u2264\u2009q\u2009\u2264\u20091\u2009000).
p37
aVThe next q lines contain the information about the events in chronological order. Each event is described in form 1 v u w if it's an event when government makes a new rule about increasing the passing fee of all roads on the shortest path from u to v by w dollars, or in form 2 v u if it's an event when Barnie goes to cuddle from the intersection v to the intersection u.
p38
aV1\u2009\u2264\u2009v,\u2009u\u2009\u2264\u20091018,\u2009v\u2009\u2260\u2009u,\u20091\u2009\u2264\u2009w\u2009\u2264\u2009109 states for every description line.
p39
asS'id'
p40
c__builtin__
id
p41
sS'constraints'
p42
g35
sb.