(iCodeforcesProblem
CodeforcesProblem
p0
(dp1
S'desription'
p2
VB. Kay and Snowflake\u000atime limit per test3 seconds\u000amemory limit per test256 megabytes\u000ainputstandard input\u000aoutputstandard output\u000aAfter the piece of a devilish mirror hit the Kay's eye, he is no longer interested in the beauty of the roses. Now he likes to watch snowflakes.\u000aOnce upon a time, he found a huge snowflake that has a form of the tree (connected acyclic graph) consisting of n nodes. The root of tree has index 1. Kay is very interested in the structure of this tree.\u000aAfter doing some research he formed q queries he is interested in. The i-th query asks to find a centroid of the subtree of the node vi. Your goal is to answer all queries.\u000aSubtree of a node is a part of tree consisting of this node and all it's descendants (direct or not). In other words, subtree of node v is formed by nodes u, such that node v is present on the path from u to root.\u000aCentroid of a tree (or a subtree) is a node, such that if we erase it from the tree, the maximum size of the connected component will be at least two times smaller than the size of the initial tree (or a subtree).\u000aInput\u000aThe first line of the input contains two integers n and q (2\u2009\u2264\u2009n\u2009\u2264\u2009300\u2009000, 1\u2009\u2264\u2009q\u2009\u2264\u2009300\u2009000) \u2014 the size of the initial tree and the number of queries respectively.\u000aThe second line contains n\u2009-\u20091 integer p2,\u2009p3,\u2009...,\u2009pn (1\u2009\u2264\u2009pi\u2009\u2264\u2009n) \u2014 the indices of the parents of the nodes from 2 to n. Node 1 is a root of the tree. It's guaranteed that pi define a correct tree.\u000aEach of the following q lines contain a single integer vi (1\u2009\u2264\u2009vi\u2009\u2264\u2009n) \u2014 the index of the node, that define the subtree, for which we want to find a centroid.\u000aOutput\u000aFor each query print the index of a centroid of the corresponding subtree. If there are many suitable nodes, print any of them. It's guaranteed, that each subtree has at least one centroid.\u000aExample\u000ainput\u000a7 4\u000a1 1 3 3 5 3\u000a1\u000a2\u000a3\u000a5\u000aoutput\u000a3\u000a2\u000a3\u000a6\u000aNote\u000aThe first query asks for a centroid of the whole tree \u2014 this is node 3. If we delete node 3 the tree will split in four components, two of size 1 and two of size 2.\u000aThe subtree of the second node consists of this node only, so the answer is 2.\u000aNode 3 is centroid of its own subtree.\u000aThe centroids of the subtree of the node 5 are nodes 5 and 6 \u2014 both answers are considered correct.
p3
sS'problemStatement'
p4
VB. Kay and Snowflake\u000atime limit per test3 seconds\u000amemory limit per test256 megabytes\u000ainputstandard input\u000aoutputstandard output\u000aAfter the piece of a devilish mirror hit the Kay's eye, he is no longer interested in the beauty of the roses. Now he likes to watch snowflakes.\u000aOnce upon a time, he found a huge snowflake that has a form of the tree (connected acyclic graph) consisting of n nodes. The root of tree has index 1. Kay is very interested in the structure of this tree.\u000aAfter doing some research he formed q queries he is interested in. The i-th query asks to find a centroid of the subtree of the node vi. Your goal is to answer all queries.\u000aSubtree of a node is a part of tree consisting of this node and all it's descendants (direct or not). In other words, subtree of node v is formed by nodes u, such that node v is present on the path from u to root.\u000aCentroid of a tree (or a subtree) is a node, such that if we erase it from the tree, the maximum size of the connected component will be at least two times smaller than the size of the initial tree (or a subtree).\u000aInput\u000aThe first line of the input contains two integers n and q (2\u2009\u2264\u2009n\u2009\u2264\u2009300\u2009000, 1\u2009\u2264\u2009q\u2009\u2264\u2009300\u2009000) \u2014 the size of the initial tree and the number of queries respectively.\u000aThe second line contains n\u2009-\u20091 integer p2,\u2009p3,\u2009...,\u2009pn (1\u2009\u2264\u2009pi\u2009\u2264\u2009n) \u2014 the indices of the parents of the nodes from 2 to n. Node 1 is a root of the tree. It's guaranteed that pi define a correct tree.\u000aEach of the following q lines contain a single integer vi (1\u2009\u2264\u2009vi\u2009\u2264\u2009n) \u2014 the index of the node, that define the subtree, for which we want to find a centroid.\u000aOutput\u000aFor each query print the index of a centroid of the corresponding subtree. If there are many suitable nodes, print any of them. It's guaranteed, that each subtree has at least one centroid.\u000aExample\u000ainput\u000a7 4\u000a1 1 3 3 5 3\u000a1\u000a2\u000a3\u000a5\u000aoutput\u000a3\u000a2\u000a3\u000a6\u000aNote\u000aThe first query asks for a centroid of the whole tree \u2014 this is node 3. If we delete node 3 the tree will split in four components, two of size 1 and two of size 2.\u000aThe subtree of the second node consists of this node only, so the answer is 2.\u000aNode 3 is centroid of its own subtree.\u000aThe centroids of the subtree of the node 5 are nodes 5 and 6 \u2014 both answers are considered correct.
p5
sS'name'
p6
VB. Kay and Snowflake
p7
sS'tags'
p8
Vdata structures dfs and similar trees 
p9
sS'url'
p10
Vhttp://codeforces.com/problemset/problem/685/B
p11
sS'memorylimit'
p12
V256 megabytes
p13
sS'timelimit'
p14
V3 seconds
p15
sS'output'
p16
(lp17
VOutput
p18
aVFor each query print the index of a centroid of the corresponding subtree. If there are many suitable nodes, print any of them. It's guaranteed, that each subtree has at least one centroid.
p19
asS'statement'
p20
(lp21
VB. Kay and Snowflake
p22
aVtime limit per test3 seconds
p23
aVmemory limit per test256 megabytes
p24
aVinputstandard input
p25
aVoutputstandard output
p26
aVAfter the piece of a devilish mirror hit the Kay's eye, he is no longer interested in the beauty of the roses. Now he likes to watch snowflakes.
p27
aVOnce upon a time, he found a huge snowflake that has a form of the tree (connected acyclic graph) consisting of n nodes. The root of tree has index 1. Kay is very interested in the structure of this tree.
p28
aVAfter doing some research he formed q queries he is interested in. The i-th query asks to find a centroid of the subtree of the node vi. Your goal is to answer all queries.
p29
aVSubtree of a node is a part of tree consisting of this node and all it's descendants (direct or not). In other words, subtree of node v is formed by nodes u, such that node v is present on the path from u to root.
p30
aVCentroid of a tree (or a subtree) is a node, such that if we erase it from the tree, the maximum size of the connected component will be at least two times smaller than the size of the initial tree (or a subtree).
p31
asS'problemId'
p32
V685/B
p33
sS'input'
p34
(lp35
VInput
p36
aVThe first line of the input contains two integers n and q (2\u2009\u2264\u2009n\u2009\u2264\u2009300\u2009000, 1\u2009\u2264\u2009q\u2009\u2264\u2009300\u2009000) \u2014 the size of the initial tree and the number of queries respectively.
p37
aVThe second line contains n\u2009-\u20091 integer p2,\u2009p3,\u2009...,\u2009pn (1\u2009\u2264\u2009pi\u2009\u2264\u2009n) \u2014 the indices of the parents of the nodes from 2 to n. Node 1 is a root of the tree. It's guaranteed that pi define a correct tree.
p38
aVEach of the following q lines contain a single integer vi (1\u2009\u2264\u2009vi\u2009\u2264\u2009n) \u2014 the index of the node, that define the subtree, for which we want to find a centroid.
p39
asS'id'
p40
c__builtin__
id
p41
sS'constraints'
p42
g35
sb.