(iCodeforcesProblem
CodeforcesProblem
p0
(dp1
S'desription'
p2
VE. Garlands\u000atime limit per test3 seconds\u000amemory limit per test256 megabytes\u000ainputstandard input\u000aoutputstandard output\u000aLike all children, Alesha loves New Year celebration. During the celebration he and his whole family dress up the fir-tree. Like all children, Alesha likes to play with garlands \u2014 chains consisting of a lightbulbs.\u000aAlesha uses a grid field sized n\u2009×\u2009m for playing. The rows of the field are numbered from 1 to n from the top to the bottom and columns are numbered from 1 to m from the left to the right.\u000aAlesha has k garlands which he places at the field. He does so in the way such that each lightbulb of each garland lies in the center of some cell in the field, and each cell contains at most one lightbulb. Of course lightbulbs, which are neighbours in some garland, appears in cells neighbouring by a side.\u000aThe example of garland placing.\u000aEach garland is turned off or turned on at any moment. If some garland is turned on then each of its lightbulbs is turned on, the same applies for garland turned off. Each lightbulb in the whole garland set is unique, and thus, being turned on, brings Alesha some pleasure, described by an integer value. Turned off lightbulbs don't bring Alesha any pleasure.\u000aAlesha can turn garlands on and off and wants to know the sum of pleasure value which the lightbulbs, placed in the centers of the cells in some rectangular part of the field, bring him. Initially all the garlands are turned on.\u000aAlesha is still very little and can't add big numbers. He extremely asks you to help him.\u000aInput\u000aThe first line of the input contains three integers n, m and k (1\u2009\u2264\u2009n,\u2009m,\u2009k\u2009\u2264\u20092000) \u2014 the number of field rows, the number of field columns and the number of garlands placed at the field respectively.\u000aNext lines contains garlands set description in the following format:\u000aThe first line of a single garland description contains a single integer len (1\u2009\u2264\u2009len\u2009\u2264\u20092000) \u2014 the number of lightbulbs in the garland.\u000aEach of the next len lines contains three integers i, j and w (1\u2009\u2264\u2009i\u2009\u2264\u2009n, 1\u2009\u2264\u2009j\u2009\u2264\u2009m, 1\u2009\u2264\u2009w\u2009\u2264\u2009109) \u2014 the coordinates of the cell containing a lightbullb and pleasure value Alesha gets from it if it is turned on. The lightbulbs are given in the order they are forming a chain in the garland. It is guaranteed that neighbouring lightbulbs are placed in the cells neighbouring by a side.\u000aThe next line contains single integer q (1\u2009\u2264\u2009q\u2009\u2264\u2009106) \u2014 the number of events in Alesha's game. The next q lines describes events in chronological order. The i-th of them describes the i-th event in the one of the following formats:\u000aSWITCH i \u2014 Alesha turns off i-th garland if it is turned on, or turns it on if it is turned off. It is guaranteed that 1\u2009\u2264\u2009i\u2009\u2264\u2009k.\u000aASK x1 y1 x2 y2 \u2014 Alesha wants to know the sum of pleasure values the lightbulbs, placed in a rectangular part of the field. Top-left cell of a part has coordinates (x1,\u2009y1) and right-bottom cell has coordinates (x2,\u2009y2). It is guaranteed that 1\u2009\u2264\u2009x1\u2009\u2264\u2009x2\u2009\u2264\u2009n and 1\u2009\u2264\u2009y1\u2009\u2264\u2009y2\u2009\u2264\u2009m. There is no more than 2000 events of this type in the input.\u000aAll the numbers in the input are integers.\u000aPlease note that the input is quite large, so be careful while using some input ways. In particular, it's not recommended to use cin in codes on C++ and class Scanner in codes on Java.\u000aOutput\u000aFor each ASK operation print the sum Alesha wants to know in a separate line. Print the answers in chronological order.\u000aExamples\u000ainput\u000a4 4 3\u000a5\u000a1 1 2\u000a1 2 3\u000a2 2 1\u000a2 1 4\u000a3 1 7\u000a4\u000a1 3 1\u000a2 3 3\u000a2 4 3\u000a1 4 1\u000a7\u000a4 1 1\u000a4 2 9\u000a3 2 8\u000a3 3 3\u000a4 3 4\u000a4 4 1\u000a3 4 1\u000a2\u000aASK 2 2 3 3\u000aASK 1 1 4 4\u000aoutput\u000a15\u000a52\u000ainput\u000a4 4 1\u000a8\u000a4 1 1\u000a3 1 2\u000a2 1 1\u000a1 1 7\u000a1 2 5\u000a2 2 4\u000a2 3 1\u000a1 3 1\u000a3\u000aASK 1 1 3 2\u000aSWITCH 1\u000aASK 1 1 3 2\u000aoutput\u000a19\u000a0\u000aNote\u000aThis image illustrates the first sample case.
p3
sS'problemStatement'
p4
VE. Garlands\u000atime limit per test3 seconds\u000amemory limit per test256 megabytes\u000ainputstandard input\u000aoutputstandard output\u000aLike all children, Alesha loves New Year celebration. During the celebration he and his whole family dress up the fir-tree. Like all children, Alesha likes to play with garlands \u2014 chains consisting of a lightbulbs.\u000aAlesha uses a grid field sized n\u2009×\u2009m for playing. The rows of the field are numbered from 1 to n from the top to the bottom and columns are numbered from 1 to m from the left to the right.\u000aAlesha has k garlands which he places at the field. He does so in the way such that each lightbulb of each garland lies in the center of some cell in the field, and each cell contains at most one lightbulb. Of course lightbulbs, which are neighbours in some garland, appears in cells neighbouring by a side.\u000aThe example of garland placing.\u000aEach garland is turned off or turned on at any moment. If some garland is turned on then each of its lightbulbs is turned on, the same applies for garland turned off. Each lightbulb in the whole garland set is unique, and thus, being turned on, brings Alesha some pleasure, described by an integer value. Turned off lightbulbs don't bring Alesha any pleasure.\u000aAlesha can turn garlands on and off and wants to know the sum of pleasure value which the lightbulbs, placed in the centers of the cells in some rectangular part of the field, bring him. Initially all the garlands are turned on.\u000aAlesha is still very little and can't add big numbers. He extremely asks you to help him.\u000aInput\u000aThe first line of the input contains three integers n, m and k (1\u2009\u2264\u2009n,\u2009m,\u2009k\u2009\u2264\u20092000) \u2014 the number of field rows, the number of field columns and the number of garlands placed at the field respectively.\u000aNext lines contains garlands set description in the following format:\u000aThe first line of a single garland description contains a single integer len (1\u2009\u2264\u2009len\u2009\u2264\u20092000) \u2014 the number of lightbulbs in the garland.\u000aEach of the next len lines contains three integers i, j and w (1\u2009\u2264\u2009i\u2009\u2264\u2009n, 1\u2009\u2264\u2009j\u2009\u2264\u2009m, 1\u2009\u2264\u2009w\u2009\u2264\u2009109) \u2014 the coordinates of the cell containing a lightbullb and pleasure value Alesha gets from it if it is turned on. The lightbulbs are given in the order they are forming a chain in the garland. It is guaranteed that neighbouring lightbulbs are placed in the cells neighbouring by a side.\u000aThe next line contains single integer q (1\u2009\u2264\u2009q\u2009\u2264\u2009106) \u2014 the number of events in Alesha's game. The next q lines describes events in chronological order. The i-th of them describes the i-th event in the one of the following formats:\u000aSWITCH i \u2014 Alesha turns off i-th garland if it is turned on, or turns it on if it is turned off. It is guaranteed that 1\u2009\u2264\u2009i\u2009\u2264\u2009k.\u000aASK x1 y1 x2 y2 \u2014 Alesha wants to know the sum of pleasure values the lightbulbs, placed in a rectangular part of the field. Top-left cell of a part has coordinates (x1,\u2009y1) and right-bottom cell has coordinates (x2,\u2009y2). It is guaranteed that 1\u2009\u2264\u2009x1\u2009\u2264\u2009x2\u2009\u2264\u2009n and 1\u2009\u2264\u2009y1\u2009\u2264\u2009y2\u2009\u2264\u2009m. There is no more than 2000 events of this type in the input.\u000aAll the numbers in the input are integers.\u000aPlease note that the input is quite large, so be careful while using some input ways. In particular, it's not recommended to use cin in codes on C++ and class Scanner in codes on Java.\u000aOutput\u000aFor each ASK operation print the sum Alesha wants to know in a separate line. Print the answers in chronological order.\u000aExamples\u000ainput\u000a4 4 3\u000a5\u000a1 1 2\u000a1 2 3\u000a2 2 1\u000a2 1 4\u000a3 1 7\u000a4\u000a1 3 1\u000a2 3 3\u000a2 4 3\u000a1 4 1\u000a7\u000a4 1 1\u000a4 2 9\u000a3 2 8\u000a3 3 3\u000a4 3 4\u000a4 4 1\u000a3 4 1\u000a2\u000aASK 2 2 3 3\u000aASK 1 1 4 4\u000aoutput\u000a15\u000a52\u000ainput\u000a4 4 1\u000a8\u000a4 1 1\u000a3 1 2\u000a2 1 1\u000a1 1 7\u000a1 2 5\u000a2 2 4\u000a2 3 1\u000a1 3 1\u000a3\u000aASK 1 1 3 2\u000aSWITCH 1\u000aASK 1 1 3 2\u000aoutput\u000a19\u000a0\u000aNote\u000aThis image illustrates the first sample case.
p5
sS'name'
p6
VE. Garlands
p7
sS'tags'
p8
Vdata structures 
p9
sS'url'
p10
Vhttp://codeforces.com/problemset/problem/707/E
p11
sS'memorylimit'
p12
V256 megabytes
p13
sS'timelimit'
p14
V3 seconds
p15
sS'problemId'
p16
V707/E
p17
sS'id'
p18
c__builtin__
id
p19
sb.